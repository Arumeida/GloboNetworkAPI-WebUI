{% extends "menu.html" %}

{% load util %}

{% block header %}
<style>
ul {
    list-style-type: none;
}

</style>

<link rel="stylesheet" src="{{ MEDIA_URL }}/assets/mbraak-jqTree-9102352/jqtree.css">
<script src="{{ MEDIA_URL }}/assets/mbraak-jqTree-9102352/tree.jquery.js"></script>

<script type="text/javascript">
$(document).ready(function() {

    var data = {{ envs|safe }};

    $(function() {
        var $tree = $('#tree1');

        $tree.tree({
            data: data,
            autoOpen: true,
            onCreateLi: function(node, $li) {
                // Append a link to the jqtree-element div.
                // The link has an url '#node-[id]' and a data property 'node-id'.
                $li.find('.jqtree-element').append(
                    '<a href="/environment/form/' + node.id + '" class="edit" data-node-id="'+
                    node.id +'"> edit </a>'
                );
            }
        });
    });
})

</script>
{% endblock %}

{% block content %}
<section class="mbr-section mbr-after-navbar" id="form1-5" style="background-color: rgb(255, 255, 255); padding-top: 120px; padding-bottom: 120px;">
    <div class="mbr-section mbr-section__container mbr-section__container--middle">
        <div class="container">
            <div class="row form-group">
                <h1 class="mbr-section-title display-2 text-xs-center">
                    <p>Ambientes</p>
                </h1>
            </div>
            <div id="tree1"></div>
        </div>
    </div>
</section>
{% endblock %}